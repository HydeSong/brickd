"use strict";(self.webpackChunkbrickd=self.webpackChunkbrickd||[]).push([[3034],{93034:function(oe,Y,u){u.r(Y),u.d(Y,{DatePicker:function(){return F},default:function(){return R}});var W=u(48305),m=u.n(W),o=u(75271),t={datePicker:"wALCs4AqHrYnTiQ0KbDS",datePickerTrigger:"nsr99zWJfkOm8IwIH_4Z",datePickerTriggerDisabled:"Fiylq8Q03wXWIcya7v3f",datePickerSizeSmall:"RiMGO46sVSwxn8BCLkFu",datePickerSizeLarge:"nB8jxSOOiT47_hU9IlC0",datePickerMenu:"PXGHVSGNRVsJPstW81lU",datePickerHeader:"gdoex6J4wAUaPsCy_q9M",datePickerHeaderButton:"EAIEXuqVlzo6vDvsucgq",datePickerHeaderTitle:"SPMQ5FMrPZkW4lX78vjY",datePickerHeaderNavigation:"DC7H6DH6yn0HufrG6EkB",datePickerBody:"Siwz3tT1UZU5FKvSuYAa",datePickerWeekdays:"yklHaCEK2qcuLHVrVD1i",datePickerWeekday:"VuoD17_KuVgqYRQ0oL1K",datePickerDays:"JChIq2TMzpUVQKlQnYO9",datePickerDay:"gD0i106JCcTneuWWM4zo",datePickerDayDisabled:"NJcDqbXT_wEDGU2IRtpn",datePickerDayOtherMonth:"oooeCGHxS6AfuFe7T1ta",datePickerDaySelected:"cd_nNBhYdkNJB71YEP4M",datePickerFooter:"SgTIxlbb2ACPzxIqt1tg",datePickerFooterButton:"fx4y9WszqLsBjpmAqUu8",datePickerFooterButtonPrimary:"_cdJKK5a61wK3qeDwRgZ",datePickerFooterButtonToday:"rgQtnS6iPDk40bZ66SUz"},r=u(52676),C=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-MM-DD",l=e.getFullYear(),f=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return i.replace("YYYY",String(l)).replace("MM",f).replace("DD",s)},B=function(e,i){return new Date(e,i+1,0).getDate()},U=function(e,i){return new Date(e,i,1).getDay()},K=function(e,i){for(var l=B(e,i),f=U(e,i),s=[],v=B(e,i-1),h=f-1;h>=0;h--)s.push({date:new Date(e,i-1,v-h),isCurrentMonth:!1});for(var k=1;k<=l;k++)s.push({date:new Date(e,i,k),isCurrentMonth:!0});for(var P=42-s.length,c=1;c<=P;c++)s.push({date:new Date(e,i+1,c),isCurrentMonth:!1});return s},F=function(e){var i=e.size,l=i===void 0?"default":i,f=e.disabled,s=f===void 0?!1:f,v=e.value,h=e.defaultValue,k=h===void 0?"":h,P=e.onChange,c=e.onOpenChange,H=e.placeholder,q=H===void 0?"\u8BF7\u9009\u62E9\u65E5\u671F":H,w=e.format,M=w===void 0?"YYYY-MM-DD":w,A=e.className,J=A===void 0?"":A,I=e.style,L=I===void 0?{}:I,Q=(0,o.useState)(k),O=m()(Q,2),S=O[0],x=O[1],$=(0,o.useState)(!1),z=m()($,2),N=z[0],g=z[1],G=(0,o.useState)(new Date),V=m()(G,2),y=V[0],p=V[1],T=(0,o.useRef)(null),j=(0,o.useRef)(null);(0,o.useEffect)(function(){v!==void 0&&x(v)},[v]);var X=function(a){var n=C(a,M);x(n)},Z=function(){P&&P(S),g(!1),c&&c(!1)},_=function(){g(!1),c&&c(!1)},ee=function(){var a=new Date,n=C(a,M);x(n),p(a)},te=function(){p(function(a){var n=new Date(a);return n.setMonth(a.getMonth()-1),n})},ae=function(){p(function(a){var n=new Date(a);return n.setMonth(a.getMonth()+1),n})},re=function(){if(!s){var a=!N;g(a),c&&c(a)}};(0,o.useEffect)(function(){var d=function(n){T.current&&!T.current.contains(n.target)&&j.current&&!j.current.contains(n.target)&&(g(!1),c&&c(!1))};return document.addEventListener("mousedown",d),function(){document.removeEventListener("mousedown",d)}},[c]);var ne=function(){var a=[t.datePickerTrigger];return l!=="default"&&a.push(t["datePickerSize".concat(l.charAt(0).toUpperCase()+l.slice(1))]),s&&a.push(t.datePickerTriggerDisabled),a.join(" ")},ie=K(y.getFullYear(),y.getMonth()),ce=function(){return N?(0,r.jsxs)("div",{ref:j,className:t.datePickerMenu,children:[(0,r.jsx)("div",{className:t.datePickerHeader,children:(0,r.jsxs)("div",{className:t.datePickerHeaderNavigation,children:[(0,r.jsx)("button",{type:"button",className:t.datePickerHeaderButton,onClick:te,children:"\u2039"}),(0,r.jsxs)("span",{className:t.datePickerHeaderTitle,children:[y.getFullYear(),"\u5E74",y.getMonth()+1,"\u6708"]}),(0,r.jsx)("button",{type:"button",className:t.datePickerHeaderButton,onClick:ae,children:"\u203A"})]})}),(0,r.jsxs)("div",{className:t.datePickerBody,children:[(0,r.jsx)("div",{className:t.datePickerWeekdays,children:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"].map(function(a){return(0,r.jsx)("div",{className:t.datePickerWeekday,children:a},a)})}),(0,r.jsx)("div",{className:t.datePickerDays,children:ie.map(function(a){var n=a.date,b=a.isCurrentMonth,E=C(n,M),de=S===E,se=!b;return(0,r.jsx)("div",{className:"".concat(t.datePickerDay," ").concat(de?t.datePickerDaySelected:""," ").concat(se?t.datePickerDayDisabled:""," ").concat(b?"":t.datePickerDayOtherMonth),onClick:function(){return b&&X(n)},children:n.getDate()},E)})})]}),(0,r.jsxs)("div",{className:t.datePickerFooter,children:[(0,r.jsx)("button",{type:"button",className:"".concat(t.datePickerFooterButton," ").concat(t.datePickerFooterButtonToday),onClick:ee,children:"\u4ECA\u5929"}),(0,r.jsx)("button",{type:"button",className:t.datePickerFooterButton,onClick:_,children:"\u53D6\u6D88"}),(0,r.jsx)("button",{type:"button",className:"".concat(t.datePickerFooterButton," ").concat(t.datePickerFooterButtonPrimary),onClick:Z,children:"\u786E\u5B9A"})]})]}):null};return(0,r.jsxs)("div",{className:"".concat(t.datePicker," ").concat(J),style:L,children:[(0,r.jsxs)("div",{ref:T,className:ne(),onClick:re,children:[(0,r.jsx)("span",{children:S||q}),(0,r.jsx)("span",{children:N?"\u25BC":"\u25B6"})]}),ce()]})},R=F}}]);
