"use strict";(self.webpackChunkbrickd=self.webpackChunkbrickd||[]).push([[7551],{47551:function(re,N,i){i.r(N),i.d(N,{default:function(){return O}});var Z=i(26068),p=i.n(Z),w=i(90228),x=i.n(w),E=i(87999),X=i.n(E),G=i(48305),J=i.n(G),b=i(75271),s={upload:"LQUoMYNUoLsPQLNxjTgJ",uploadInput:"nZQ1ynCo0ZgeQMXrXzM9",uploadTrigger:"NK5VCx1lgfgBQoHnJWMc",disabled:"QUSQ5r43364C0mAshgXb",uploadIcon:"lf8AlLBPe6oLi0QVz90t",uploadList:"nz5Kr01X3BQo3RjfDgm8",uploadListItem:"NrKJoZgy6AR07bZmhYdj",uploadListItemInfo:"uPDez2Tx8RD4jqvy2bAw",uploadListItemName:"mgUN54OMQeIT5_MjcZGz",uploadListItemProgress:"rDQZZGOuzfIwbRqlzQXg",uploadListItemProgressBar:"KKrvtk6h8UrsdKEAU5T9",uploadListItemError:"UBCgMfD0i4Ya3by6rmNT",uploadListItemRemove:"fkVtMIaKHkf2JvNayfoo"},a=i(52676),H=function(e){var y=e.action,oe=y===void 0?"":y,U=e.method,ue=U===void 0?"post":U,R=e.headers,ce=R===void 0?{}:R,k=e.data,ve=k===void 0?{}:k,Q=e.name,pe=Q===void 0?"file":Q,$=e.withCredentials,me=$===void 0?!1:$,F=e.multiple,V=F===void 0?!1:F,T=e.accept,Y=T===void 0?"*":T,M=e.maxCount,P=e.disabled,m=P===void 0?!1:P,S=e.beforeUpload,c=e.onChange,L=e.onProgress,j=e.onSuccess,he=e.onError,I=e.onRemove,h=e.fileList,z=e.defaultFileList,W=z===void 0?[]:z,q=e.className,_=e.style,ee=e.children,ae=(0,b.useState)(W),A=J()(ae,2),ne=A[0],B=A[1],f=(0,b.useRef)(null),g=h!==void 0?h:ne,te=function(){var n;m||(n=f.current)===null||n===void 0||n.click()},le=function(){var r=X()(x()().mark(function n(d){var t,v,o,u,C,K;return x()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(t=d.target.files,t){l.next=3;break}return l.abrupt("return");case 3:v=[],o=0;case 5:if(!(o<t.length)){l.next=21;break}if(u=t[o],C={uid:"".concat(Date.now(),"_").concat(o),name:u.name,status:"uploading",percent:0},!S){l.next=14;break}return l.next=11,S(u);case 11:if(K=l.sent,K){l.next=14;break}return l.abrupt("continue",18);case 14:if(!(M&&g.length+v.length>=M)){l.next=16;break}return l.abrupt("break",21);case 16:v.push(C),se(u,C);case 18:o++,l.next=5;break;case 21:f.current&&(f.current.value="");case 22:case"end":return l.stop()}},n)}));return function(d){return r.apply(this,arguments)}}(),se=function(n,d){var t=0,v=setInterval(function(){if(t+=10,t>100){clearInterval(v);var o=p()(p()({},d),{},{status:"done",percent:100,url:URL.createObjectURL(n)});D(o),j==null||j({},o);return}var u=p()(p()({},d),{},{percent:t});D(u),L==null||L(t,u)},200)},D=function(n){var d=g.map(function(t){return t.uid===n.uid?n:t});h===void 0&&B(d),c==null||c(n,d)},ie=function(n){I==null||I(n);var d=g.filter(function(t){return t.uid!==n.uid});h===void 0&&B(d),c==null||c(n,d)};return(0,a.jsxs)("div",{className:"".concat(s.upload," ").concat(q||""),style:_,children:[(0,a.jsx)("input",{ref:f,type:"file",className:s.uploadInput,multiple:V,accept:Y,onChange:le,disabled:m,"data-testid":"upload-input"}),(0,a.jsx)("div",{className:"".concat(s.uploadTrigger," ").concat(m?s.disabled:""),onClick:te,children:ee||(0,a.jsxs)("div",{className:s.uploadIcon,children:[(0,a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,a.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,a.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),(0,a.jsx)("span",{children:"Click to Upload"})]})}),(0,a.jsx)("div",{className:s.uploadList,children:g.map(function(r){return(0,a.jsxs)("div",{className:s.uploadListItem,children:[(0,a.jsxs)("div",{className:s.uploadListItemInfo,children:[(0,a.jsx)("span",{className:s.uploadListItemName,children:r.name}),r.status==="uploading"&&(0,a.jsx)("div",{className:s.uploadListItemProgress,children:(0,a.jsx)("div",{className:s.uploadListItemProgressBar,style:{width:"".concat(r.percent||0,"%")}})}),r.status==="error"&&(0,a.jsx)("span",{className:s.uploadListItemError,children:"Upload failed"})]}),(0,a.jsx)("button",{className:s.uploadListItemRemove,onClick:function(){return ie(r)},disabled:m,children:"\xD7"})]},r.uid)})})]})},O=H}}]);
