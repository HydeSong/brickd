"use strict";(self.webpackChunkbrickd=self.webpackChunkbrickd||[]).push([[2537],{82537:function(ve,D,i){i.r(D),i.d(D,{AutoComplete:function(){return b},default:function(){return Y}});var W=i(48305),f=i.n(W),r=i(75271),l={autoComplete:"MHoFAm64NmsSKDx8baEh",autoCompleteInput:"qLJ3g2Vdm0s7Y_m3ZtL7",autoCompleteDropdown:"prYSkvclaZMAD2buLauj",autoCompleteOption:"h_8ZGsBwC1wj3LQVcBQ8",autoCompleteOptionActive:"a2jlHKjnqvonXjz80vib",autoCompleteOptionDisabled:"JcRwnpcCuYQX7ptsezX1",autoCompleteEmpty:"Q9c2VlUDysSDwnVPi1Ua",autoCompleteLoading:"eblNX1odVc1mz1llG9q0",autoCompleteSizeSmall:"JumW22UdvsEaPE_FWASt",autoCompleteSizeLarge:"lwBg_rBkJSc1voV9O0gm",autoCompleteError:"i92UIA2zsm4zF9FgolE7",autoCompleteFullWidth:"PNdoCIHKId0PC9IFF2pP"},d=i(52676),b=function(a){var E=a.size,C=E===void 0?"default":E,L=a.disabled,Z=L===void 0?!1:L,j=a.readOnly,G=j===void 0?!1:j,k=a.error,M=k===void 0?!1:k,I=a.options,h=I===void 0?[]:I,g=a.value,T=a.defaultValue,q=a.placeholder,v=a.onChange,F=a.onSelect,N=a.onSearch,V=a.loading,_=V===void 0?!1:V,O=a.filterOption,z=a.renderOption,x=a.className,ee=x===void 0?"":x,K=a.style,te=K===void 0?{}:K,ae=(0,r.useState)(T||""),U=f()(ae,2),u=U[0],S=U[1],ne=(0,r.useState)(!1),$=f()(ne,2),P=$[0],o=$[1],le=(0,r.useState)(-1),R=f()(le,2),p=R[0],m=R[1],re=(0,r.useState)([]),B=f()(re,2),c=B[0],J=B[1],y=(0,r.useRef)(null),w=(0,r.useRef)(null);(0,r.useEffect)(function(){g!==void 0&&S(g)},[g]),(0,r.useEffect)(function(){if(u&&h.length>0){var n=h.filter(function(e){if(O)return O(u,e);if(typeof e=="string")return e.toLowerCase().includes(u.toLowerCase());var t;return((t=e.label)===null||t===void 0?void 0:t.toLowerCase().includes(u.toLowerCase()))||e.value.toLowerCase().includes(u.toLowerCase())});J(n),m(-1),o(!0)}else J([]),o(!1)},[u,h,O]),(0,r.useEffect)(function(){var n=function(t){w.current&&!w.current.contains(t.target)&&y.current&&!y.current.contains(t.target)&&o(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[]);var ue=function(e){var t=e.target.value;S(t),v&&v(t),N&&N(t)},Q=function(e){var t;typeof e=="string"?t=e:t=e.value,S(t),o(!1),v&&v(t),F&&F(e)},se=function(e){if(!P){e.key==="ArrowDown"&&(o(!0),m(0));return}switch(e.key){case"ArrowDown":e.preventDefault(),m(function(s){return s<c.length-1?s+1:s});break;case"ArrowUp":e.preventDefault(),m(function(s){return s>0?s-1:0});break;case"Enter":if(e.preventDefault(),p>=0&&p<c.length){var t=c[p];if(typeof t!="string"&&t.disabled)return;Q(t)}break;case"Escape":o(!1);break;default:break}},oe=function(){u&&c.length>0&&o(!0)},ie=function(){var e=[l.autoCompleteInput];return C!=="default"&&e.push(l["autoCompleteSize".concat(C.charAt(0).toUpperCase()+C.slice(1))]),M&&e.push(l.autoCompleteError),e.join(" ")},de=function(e,t){var s=t===p,X=typeof e!="string"&&e.disabled,ce=function(){var A=[l.autoCompleteOption];return s&&A.push(l.autoCompleteOptionActive),X&&A.push(l.autoCompleteOptionDisabled),A.join(" ")},fe=function(){return z?z(e,u):typeof e=="string"?e:e.label||e.value};return(0,d.jsx)("div",{className:ce(),onClick:function(){return!X&&Q(e)},children:fe()},typeof e=="string"?e:e.value)};return(0,d.jsxs)("div",{className:"".concat(l.autoComplete," ").concat(ee),style:te,children:[(0,d.jsx)("input",{ref:y,type:"text",className:ie(),disabled:Z,readOnly:G,placeholder:q,value:u,onChange:ue,onKeyDown:se,onFocus:oe}),P&&(0,d.jsx)("div",{ref:w,className:l.autoCompleteDropdown,children:_?(0,d.jsx)("div",{className:l.autoCompleteLoading,children:"\u52A0\u8F7D\u4E2D..."}):c.length>0?c.map(function(n,e){return de(n,e)}):(0,d.jsx)("div",{className:l.autoCompleteEmpty,children:"\u65E0\u5339\u914D\u9009\u9879"})})]})},Y=b}}]);
